{% from "govuk/components/input/macro.njk" import govukInput %}
{% from "govuk/components/button/macro.njk" import govukButton %}
{% from "govuk/components/summary-list/macro.njk" import govukSummaryList %}
{% extends 'layouts/page.njk' %}

{% block content %}
  {{ appHeading({
    text: heading,
    caption: "AI PoC for CFFLD Feedback Analysis"
  }) }}

  <h2 class="govuk-heading-m">GraphQL Query</h2>
  <pre>{{ model.query }}</pre>

  <h2 class="govuk-heading-m">Feedback</h2>
  {% for f in model.feedback %}
  <div class="govuk-summary-card">
    <div class="govuk-summary-card__title-wrapper">
      <h3 class="govuk-summary-card__title">Feedback</h3>
    </div>
    <div class="govuk-summary-card__content">
      <dl class="govuk-summary-list">
        {% for key, value in f %}
          <div class="govuk-summary-list__row">
            <dt class="govuk-summary-list__key">{{ key }}</dt>
            <dd class="govuk-summary-list__value">
              {{ value }}
            </dd>
          </div>
        {% endfor %}
      </dl>
    </div>
  </div>
  {% endfor %}

{% endblock %}
